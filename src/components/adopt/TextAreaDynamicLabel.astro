---
export interface Props {
    divClass?: string;
    textareaClass?: string;
    textareaName: string;
    textareaId: string;
    textareaValue?: string;
    textareaRows?: string;
    textareaCols?: string;
    textareaPlaceholder?: string;
    textareaRequired?: boolean;
    textareaMaxlength?: string;
    textareaMinlength?: string;
    textareaPattern?: string;
    labelText?: string;
    spanClass?: string;
}

const {
    divClass = "col-12 col-12-xsmall prel",
    textareaClass = "textarea-dynamic-label",
    textareaName,
    textareaId,
    textareaValue = "",
    textareaRows = "",
    textareaCols = "",
    textareaPlaceholder = "",
    textareaRequired = false,
    textareaMaxlength = "1000",
    textareaMinlength = "",
    textareaPattern = "",
    labelText = "",
    spanClass = "validity",
} = Astro.props;
---
<style>
    .col-12-xsmall {
        display: flex;
        flex-direction: row;
    }
    .validity {
        width: 40px;
        display: flex;
        align-items: center
    }
    .prel {
      position: relative;
    }

    .textarea-dynamic-label {
      padding: 1em 1em 0em !important;
    }
    .textarea-dynamic-label ~ label {
      position: absolute;
      top: 0.5em;
      left: 1em;
      display: flex;
      pointer-events: none;
      font-size: 1em;
      transition: all 0.15s ease-out;
    }
    .textarea-dynamic-label:focus ~ label,
    .textarea-dynamic-label:not([value=""]) ~ label
    {
      font-size: 12px;
      transform: translate(0, -36%);
      padding-left: 4px;
      padding-right: 4px;
    }

    .textarea-dynamic-label:focus ~ label {
      color: DarkSlateBlue !important;
    }
</style>
<div class={divClass}>
    {textareaRequired === "true" ?
        <textarea
            class={textareaClass}
            name={textareaName}
            id={textareaId}
            value={textareaValue}
            rows={textareaRows}
            cols={textareaCols}
            placeholder={textareaPlaceholder}
            required
            maxlength={textareaMaxlength}
            minlength={textareaMinlength}
            pattern={textareaPattern}
        />
    :
        <textarea
            class={textareaClass}
            name={textareaName}
            id={textareaId}
            value={textareaValue}
            rows={textareaRows}
            cols={textareaCols}
            placeholder={textareaPlaceholder}
            maxlength={textareaMaxlength}
            minlength={textareaMinlength}
            pattern={textareaPattern}
        />
    }
    <label for={textareaId}>{labelText}</label>
    <span class={spanClass}></span>
</div>
